<?xml version="1.0"?>
<dtos
	xmlns="cakephp-dto"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="cakephp-dto https://github.com/dereuromark/cakephp-dto">

	<!-- User DTO with BelongsTo Role -->
	<dto name="UserProjection" immutable="true">
		<field name="id" type="int"/>
		<field name="username" type="string"/>
		<field name="email" type="string"/>
		<field name="role" type="RoleProjection"/>
		<field name="created" type="\Cake\I18n\DateTime"/>
	</dto>

	<!-- Role DTO with HasMany Users -->
	<dto name="RoleProjection" immutable="true">
		<field name="id" type="int"/>
		<field name="name" type="string"/>
		<field name="users" type="UserSimpleProjection[]" collectionType="array"/>
	</dto>

	<!-- Simple User DTO (without role to avoid circular reference) -->
	<dto name="UserSimpleProjection" immutable="true">
		<field name="id" type="int"/>
		<field name="username" type="string"/>
		<field name="email" type="string"/>
	</dto>

	<!-- Article DTO for benchmark comparison -->
	<dto name="ArticleBenchmark" immutable="true">
		<field name="id" type="int"/>
		<field name="title" type="string"/>
		<field name="body" type="string"/>
		<field name="author" type="AuthorBenchmark"/>
		<field name="comments" type="CommentBenchmark[]" collectionType="array"/>
	</dto>

	<!-- Author DTO for benchmark -->
	<dto name="AuthorBenchmark" immutable="true">
		<field name="id" type="int"/>
		<field name="name" type="string"/>
	</dto>

	<!-- Comment DTO for benchmark -->
	<dto name="CommentBenchmark" immutable="true">
		<field name="id" type="int"/>
		<field name="comment" type="string"/>
		<field name="articleId" type="int"/>
		<field name="userId" type="int"/>
	</dto>

</dtos>
